const nav_expand_btn=document.getElementById("mobile-nav-expand"),nav_menu=document.getElementById("nav-menu"),nav_links=nav_menu.querySelectorAll("li.landing-menu-item"),form_contact=document.getElementById("form_contact"),form_contact_submit=document.getElementById("form_contact_submit"),contact_name=document.getElementById("contact_name"),contact_email=document.getElementById("contact_email"),contact_message=document.getElementById("contact_message"),captcha=document.getElementById("recaptcha-container"),form_contact_error=document.getElementById("form_contact_error"),form_contact_error_wrapper=document.getElementById("error_input_wrapper");let CAPTCHA_VALIDATED=!1,CAPTCHA_SIZE="normal",VIEWPORT=document.documentElement.clientWidth;firebase.initializeApp(firebaseConfig),firebase.analytics(),firebase.auth();const firestore=firebase.firestore(),db=firestore.collection("contactData"),galleryImages=[...document.getElementsByClassName("gallery-image")];function handle_nav(){nav_menu.classList.contains("show")?nav_menu.classList.remove("show"):nav_menu.classList.add("show")}VIEWPORT<=360&&(CAPTCHA_SIZE="compact"),window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier(captcha,{size:CAPTCHA_SIZE,callback:function(response){CAPTCHA_VALIDATED=!0}}),recaptchaVerifier.render(),nav_expand_btn.addEventListener("click",handle_nav),nav_links.forEach(link=>{link.addEventListener("click",handle_nav)});const form_validate=()=>!!form_contact.checkValidity()||(form_contact_error_wrapper.style.display="block",form_contact_error.style.display="block",void(form_contact_error.innerText="Please fill out all required fields!")),form_reset=()=>{form_contact.reset(),form_contact_error_wrapper.style.display="none",form_contact_error.style.display="none",form_contact_error.innerText=""};function handleModal(e){const modal=document.createElement("dialog"),img=document.createElement("img"),closeBtn=document.createElement("button"),container1=document.createElement("div"),container2=document.createElement("div");closeBtn.innerText="X",closeBtn.style.marginLeft="auto",closeBtn.classList.add("btn"),img.src=e.target.getAttribute("src").split("-")[0]+".webp",container1.appendChild(closeBtn),container1.classList.add("flex"),container1.style.width="100%",container2.appendChild(img),container2.classList.add("flex"),container2.style.width="100%",modal.appendChild(container1),modal.appendChild(container2),modal.open=!1,setTimeout(()=>{modal.open=!0},1),document.body.appendChild(modal),closeBtn.addEventListener("click",()=>{document.body.removeChild(modal)})}form_contact_submit.addEventListener("click",e=>{if(e.preventDefault(),!form_validate())return;if(!CAPTCHA_VALIDATED)return form_contact_error.style.display="block",void(form_contact_error.innerText="Please complete the captcha!");const form_data={name:contact_name.value,email:contact_email.value,message:contact_message.value};db.doc().set(form_data).then(()=>{window.alert("Message recieved!")}).catch(err=>console.log(err)),form_reset()}),galleryImages.forEach(i=>i.addEventListener("click",handleModal));